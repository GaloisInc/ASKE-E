measure peak()
  I_peak = 0.0
  t_peak = 0.0

  with dp
    if dp.I > I_peak
      then I_peak = dp.I
           t_peak = dp.time
    end