<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Gromet - ASKE-E Documentation</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../easel.html"><strong aria-hidden="true">1.</strong> EASEL</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../model.html"><strong aria-hidden="true">1.1.</strong> model</a></li><li class="chapter-item expanded "><a href="../let-variable.html"><strong aria-hidden="true">1.2.</strong> let-Declared Variables</a></li><li class="chapter-item expanded "><a href="../state-variable.html"><strong aria-hidden="true">1.3.</strong> state-Declared Variables</a></li><li class="chapter-item expanded "><a href="../event.html"><strong aria-hidden="true">1.4.</strong> events</a></li><li class="chapter-item expanded "><a href="../when.html"><strong aria-hidden="true">1.5.</strong> when</a></li><li class="chapter-item expanded "><a href="../rate.html"><strong aria-hidden="true">1.6.</strong> rate</a></li><li class="chapter-item expanded "><a href="../effect.html"><strong aria-hidden="true">1.7.</strong> effect</a></li><li class="chapter-item expanded "><a href="../example.html"><strong aria-hidden="true">1.8.</strong> Example</a></li></ol></li><li class="chapter-item expanded "><a href="../donu.html"><strong aria-hidden="true">2.</strong> Donu</a></li><li class="chapter-item expanded "><a href="../gromet/PrTNet.html" class="active"><strong aria-hidden="true">3.</strong> Gromet</a></li><li class="chapter-item expanded "><a href="../milestones.html"><strong aria-hidden="true">4.</strong> Milestones</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">ASKE-E Documentation</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="prtnet-gromet-specification"><a class="header" href="#prtnet-gromet-specification">PrTNet Gromet Specification</a></h1>
<p>PrTNet Gromet is a JSON based representation of stochastic Petri nets.
Abstractly, a stochastic Petri net is a collection of <em>state</em> variables,
and a collection of <em>transitions</em>, which specify how the state variables may
change.   Each state variable has an initial condition, and the format
also supports <em>parameterized</em> Petri nets, used to describe a family of
related Petri nets.</p>
<p>The specification uses the following concepts:</p>
<ul>
<li>
<p><em>junctions</em> are used to represent the states of the Petri Net</p>
</li>
<li>
<p><em>boxes</em> are used to group conceptually related entities;
in particular the entire model is a box containg the junctions
for the state variables, and boxes for the transitions</p>
</li>
<li>
<p><em>ports</em> are used to mark inputs or outputs of boxes;
data only flows in and out of boxes through ports</p>
</li>
<li>
<p><em>wires</em> are used to specify how data flows around the system;
wires may connect two ports, or a port and a junction:</p>
<ul>
<li>a wire that flows into a junction indicates setting the value of
a state variable</li>
<li>a wire flowing out of a junction indicates getting the value of
a state variable</li>
</ul>
</li>
</ul>
<h2 id="top-level-object"><a class="header" href="#top-level-object">Top Level Object</a></h2>
<p>A PrTNet Gromet is JSON object with the following form:</p>
<pre><code>PRTNET :=
  { &quot;syntax&quot;    = &quot;Gromet&quot;
  , &quot;type&quot;      = &quot;PrTNet&quot;
  , &quot;name&quot;      = STRING
  , &quot;metadata&quot;  = null          // XXX: Format to be determined
  , &quot;uid&quot;       = STRING
  , &quot;root&quot;      = BOX_ID        // The top-level box for the model
  , &quot;ports&quot;     = [ PORT ]
  , &quot;wires&quot;     = [ WIRE ]
  , &quot;junctions&quot; = [ JUNCTION ]
  , &quot;boxes&quot;     = [ BOX ]
  }
</code></pre>
<h2 id="unique-identifiers"><a class="header" href="#unique-identifiers">Unique Identifiers</a></h2>
<p>The specifications uses various forms of unique identifiers, which are
all strings, but we give them explicit names to indicate what entities they
identify.</p>
<pre><code>BOX_ID      := STRING
PORT_ID     := STRING
WIRE_ID     := STRING
JUNCTION_ID := STRING
</code></pre>
<p>Note that these identifiers are unique for a given PrTNet object, but
are <em>not</em> globally unique.</p>
<h2 id="value-types"><a class="header" href="#value-types">Value Types</a></h2>
<p>Most entities also contain a field indicating its type, which may
be one of the following:</p>
<pre><code>VALUE_TYPE :=
    &quot;Real&quot;                // The type of real numbers
  | &quot;Bool&quot;                // The type of booleans
</code></pre>
<h2 id="junctions"><a class="header" href="#junctions">Junctions</a></h2>
<p>Junctions are used to represent the states of the Petri Net.
They will only appear in the top-level box for the model.
Each junction will have the following connections:</p>
<ul>
<li>A wire from each event box that may modify the state to the junction</li>
<li>A wire from an <em>expression box</em> to the junction, specifying the
initial state of the variable</li>
<li>A wire from the junction to each <em>event</em> box that needs to use
the value of the variable.</li>
</ul>
<pre><code>JUNCTION :=
  { &quot;syntax&quot;     = &quot;Junction&quot;
  , &quot;uid&quot;        = JUNCTION_ID
  , &quot;type&quot;       = &quot;State&quot;
  , &quot;value_type&quot; = VALUE_TYPE
  }
</code></pre>
<h2 id="wires"><a class="header" href="#wires">Wires</a></h2>
<p>Wires are used to specify how data flows around the model.</p>
<pre><code>WIRE :=
  { &quot;syntax&quot;      = &quot;Wire&quot;
  , &quot;uid&quot;         = WIRE_ID
  , &quot;type&quot;        = &quot;Directed&quot;
  , &quot;value_type&quot;  = VALUE_TYPE
  , &quot;metadata&quot;    = null                     // XXX
  , &quot;src&quot;         = PORT_ID | JUNCTION_ID
  , &quot;tgt&quot;         = PORT_ID | JUNCTION_ID
  }
</code></pre>
<h2 id="ports"><a class="header" href="#ports">Ports</a></h2>
<p>Ports are used to specify inputs and outputs of a box.  Input ports
are of type <code>&quot;Input&quot;</code> while output ports are of type <code>&quot;Output&quot;</code>.
An exception to this is that the ports for the outermost model box
are of type <code>&quot;Parameter&quot;</code>.</p>
<pre><code>PORT :=
  { &quot;syntax&quot;     = &quot;Port&quot;
  , &quot;type&quot;       = &quot;Parameter&quot; | &quot;Input&quot; | &quot;Output&quot;
  , &quot;name&quot;       = STRING
  , &quot;metadata&quot;   = null        // Format to be determined
  , &quot;value_type&quot; = VALUE_TYPE
  , &quot;uid&quot;        = PORT_ID
  , &quot;box&quot;        = BOX_ID      // Owner of the port
  }
</code></pre>
<h2 id="boxes"><a class="header" href="#boxes">Boxes</a></h2>
<p>Boxes are a generic components used to group related entities.
There are two flavors of boxes:</p>
<ul>
<li><em>relation</em> boxes are used for grouping, and may contain other boxes</li>
<li><em>expression</em> boxes contain a tree describing a mathematical expression</li>
</ul>
<pre><code>BOX := REL_BOX | EXPR_BOX
</code></pre>
<h3 id="relation-boxes"><a class="header" href="#relation-boxes">Relation Boxes</a></h3>
<p>Relation boxes have the following format:</p>
<pre><code>REL_BOX :=
  { &quot;syntax&quot;    = &quot;Relation&quot;
  , &quot;type&quot;      = &quot;PrTNet&quot; | &quot;Event&quot; | &quot;Enable&quot; | &quot;Rate&quot; | &quot;Effect&quot;
  , &quot;uid&quot;       = BOX_ID
  , &quot;name&quot;      = STRING
  , &quot;wires&quot;     = [ WIRE_ID ]      // Wires contained in this box
  , &quot;boxes&quot;     = [ BOX_ID ]       // Nested boxes
  , &quot;ports&quot;     = [ PORT_ID ]      // Ports for the box
  , &quot;junctions&quot; = [ JUNCTION_ID ]  // Nested junctions
  }
</code></pre>
<p>Relation boxes are nested as follows:</p>
<ul>
<li>
<p>The only box of type <code>&quot;PrTNet&quot;</code> is the outermost box containing the
whole model</p>
</li>
<li>
<p>The <code>&quot;PrTNet&quot;</code> box may contain only <code>&quot;Event&quot;</code> boxes and expression boxes;
The expression boxes at this level are used for the inital values
of the state variables, as well as to name expressions that may be
used in multiple places in the model</p>
</li>
<li>
<p>An <code>&quot;Event&quot;</code> box is going to have exactly 3 nested boxes:</p>
<ul>
<li>One of type <code>&quot;Enable&quot;</code></li>
<li>One of type <code>&quot;Rate&quot;</code></li>
<li>One of type <code>&quot;Effect&quot;</code></li>
</ul>
</li>
<li>
<p>A <code>&quot;Enable&quot;</code> box contains a single expression box, describing the
enabling condition for the given event</p>
</li>
<li>
<p>A <code>&quot;Rate&quot;</code> box contains a single expression box, describing the
rate at which this event may occur</p>
</li>
<li>
<p>A <code>&quot;Effect&quot;</code> box contains a collection of expression boxes, one
for each variable that may be affected by the event.</p>
</li>
</ul>
<p>Only <code>&quot;Event&quot;</code> and <code>&quot;Effect&quot;</code> boxes have output ports, which are used
to show how state variables are affected by events.</p>
<h3 id="expression-boxes"><a class="header" href="#expression-boxes">Expression Boxes</a></h3>
<p>Expression boxes contain a mathematical expression.  Some have an
output port, which is used to indicate where the expression is used.
Others (e.g. in <code>&quot;Enable&quot;</code> and in <code>&quot;Rate&quot;</code>) do not have an output
port as the expession is only part of the specification.</p>
<pre><code>EXPR_BOX :=
  { &quot;syntax&quot;    = &quot;Expression&quot;
  , &quot;uid&quot;       = BOX_ID
  , &quot;name&quot;      = STRING
  , &quot;tree&quot;      = EXPR             // Exp
  , &quot;ports&quot;     = [ PORT_ID ]      // Ports for the box
  , &quot;wires&quot;     = [ ]
  , &quot;boxes&quot;     = [ ]
  , &quot;junctions&quot; = [ ]
  }
</code></pre>
<p>Mathematical expressions are encoded as follows:</p>
<pre><code>EXPR := LIT_EXPR      // A literal
      | PORT_ID       // Link to a port
      | CALL_EXPR     // Use of an operator

LIT_EXPR :=
  { &quot;syntax&quot;    = &quot;Literal&quot;
  , &quot;type&quot;      = VALUE_TYPE
  , &quot;value&quot;     = { &quot;syntax&quot; = &quot;Val&quot;
                  , &quot;val&quot;    = STRING          // Value for the literal
                  }
  , &quot;metadata&quot;  = null            // Format to be determined
  }

CALL_EXPR :=
  { &quot;syntax&quot;  = &quot;Expr&quot;
  , &quot;call&quot;    = OPERATOR
  , &quot;args&quot;    = [ EXPR ]
  }

OPERATOR :=
  { &quot;syntax&quot; = &quot;RefOp&quot;
  , &quot;name&quot;   = &quot;not&quot; | &quot;exp&quot; | &quot;log&quot;
             | &quot;+&quot; | &quot;-&quot; | &quot;*&quot; | &quot;/&quot;
             | &quot;lt&quot; | &quot;leq&quot; | &quot;==&quot;
             | &quot;and&quot; | &quot;or&quot;
             | &quot;if&quot;
  }
</code></pre>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>The following picture is a visualization of a PrTNet document.  The ports at
the top part of box are input ports, while the ports at the bottom are output
ports.</p>
<p><img src="PrT.svg" alt="Example" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../donu.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../milestones.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../donu.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../milestones.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
